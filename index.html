<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlucoUS - AI 기반 혈당 관리 솔루션</title>
    
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#18D9C2',     // GlucoUS Topaz
                        primaryDark: '#12b09d', // 버튼 클릭 시 진한 색
                        darkGray: '#1F2937',    // 본문 텍스트
                        softGray: '#F9FAFB',    // 배경색
                    },
                    fontFamily: {
                        sans: ['Pretendard', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans text-darkGray antialiased">

    <nav class="fixed w-full z-50 bg-white/80 backdrop-blur-md border-b border-gray-100 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <div class="w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-white font-bold text-lg">G</div>
                    <span class="font-bold text-xl tracking-tight text-gray-900">GlucoUS</span>
                </div>
                <a href="#pricing" class="bg-gray-900 text-white px-5 py-2.5 rounded-full text-sm font-semibold hover:bg-gray-800 transition-colors shadow-lg">
                    사전 예약하기
                </a>
            </div>
        </div>
    </nav>

    <section class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-gradient-to-b from-softGray to-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
            <div class="grid lg:grid-cols-2 gap-12 lg:gap-8 items-center">
                
                <div class="text-center lg:text-left z-10">
                    <div class="inline-flex items-center px-3 py-1 rounded-full bg-primary/10 text-primaryDark text-sm font-semibold mb-6 border border-primary/20">
                        <span class="mr-2">✨</span> AI 기반 혈당 관리 솔루션
                    </div>
                    
                    <h1 class="text-4xl lg:text-6xl font-extrabold tracking-wide text-gray-900 leading-[1.2] mb-6" style="letter-spacing: 0.05em;">
                        지금 먹은 한 접시,<br>
                        <span class="text-primary">몇 그램인지 아시나요?</span>
                    </h1>
                    <p class="text-lg text-gray-600 mb-8 leading-relaxed max-w-2xl mx-auto lg:mx-0 whitespace-pre-line">
                        탄수화물 계산 더 이상 감으로 기록하지 마세요. 사진 한 장이면 충분합니다.
                        <strong class="text-gray-900">정확한 식사량 기록</strong>과 <strong class="text-gray-900">혈당 예측</strong>기능을 확인해보세요.
                    </p>

                    <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                        <a href="#pricing" class="px-8 py-4 bg-primary text-white rounded-xl font-bold text-lg hover:bg-primaryDark transition-all shadow-lg hover:shadow-primary/30 transform hover:-translate-y-1 text-center">
                            선착순 30명 베타 테스터 신청하기
                        </a>
                        <a href="#features" class="px-8 py-4 bg-white text-gray-700 border border-gray-200 rounded-xl font-bold text-lg hover:bg-gray-50 transition-all flex items-center justify-center gap-2 group">
                            더 자세히 알아보기 <span class="group-hover:translate-x-1 transition-transform">→</span>
                        </a>
                    </div>
                    <p class="mt-6 text-sm text-gray-500">💳 앱 출시 후 100% 환불 보장.</p>
                </div>

                <div class="relative lg:h-[600px] flex justify-center items-center">
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-primary/5 rounded-full blur-3xl -z-10 animate-pulse"></div>
                    <div class="relative w-[300px] h-[649px] bg-[#0B0F12] rounded-[31px] overflow-hidden" id="phone-frame" style="box-shadow: 0 0 0 7.69px #1a1a1a;">
                        <div class="relative w-full h-full overflow-hidden">
                            <!-- Screen 슬라이드 컨테이너 -->
                            <div class="relative w-full h-full">
                                <iframe id="screen-iframe-0" src="screen/ScreenA.html" class="screen-iframe absolute border-0 opacity-100 transition-opacity duration-700" style="width: 390px; height: 844px; transform: scale(0.769); transform-origin: top left; left: 0; top: 0; background-color: #0B0F12;"></iframe>
                                <iframe id="screen-iframe-1" src="screen/ScreenB.html" class="screen-iframe absolute border-0 opacity-0 transition-opacity duration-700" style="width: 390px; height: 844px; transform: scale(0.769); transform-origin: top left; left: 0; top: 0; background-color: #0B0F12;"></iframe>
                                <iframe id="screen-iframe-2" src="screen/ScreenC.html" class="screen-iframe absolute border-0 opacity-0 transition-opacity duration-700" style="width: 390px; height: 844px; transform: scale(0.769); transform-origin: top left; left: 0; top: 0; background-color: #0B0F12;"></iframe>
                                <iframe id="screen-iframe-3" src="screen/ScreenD.html" class="screen-iframe absolute border-0 opacity-0 transition-opacity duration-700" style="width: 390px; height: 844px; transform: scale(0.769); transform-origin: top left; left: 0; top: 0; background-color: #0B0F12;"></iframe>
                                <iframe id="screen-iframe-4" src="screen/ScreenE.html" class="screen-iframe absolute border-0 opacity-0 transition-opacity duration-700" style="width: 390px; height: 844px; transform: scale(0.769); transform-origin: top left; left: 0; top: 0; background-color: #0B0F12;"></iframe>
                                <iframe id="screen-iframe-5" src="screen/ScreenF.html" class="screen-iframe absolute border-0 opacity-0 transition-opacity duration-700" style="width: 390px; height: 844px; transform: scale(0.769); transform-origin: top left; left: 0; top: 0; background-color: #0B0F12;"></iframe>
                            </div>
                        </div>
                        <!-- 인디케이터 -->
                        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10">
                            <div class="indicator w-2 h-2 rounded-full bg-white transition-all duration-300" data-index="0"></div>
                            <div class="indicator w-2 h-2 rounded-full bg-white/40 transition-all duration-300" data-index="1"></div>
                            <div class="indicator w-2 h-2 rounded-full bg-white/40 transition-all duration-300" data-index="2"></div>
                            <div class="indicator w-2 h-2 rounded-full bg-white/40 transition-all duration-300" data-index="3"></div>
                            <div class="indicator w-2 h-2 rounded-full bg-white/40 transition-all duration-300" data-index="4"></div>
                            <div class="indicator w-2 h-2 rounded-full bg-white/40 transition-all duration-300" data-index="5"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">
                    우리는 알고 있습니다.<br>
                    먹는 즐거움이 <span class="text-primary">스트레스가 되는 순간</span>을요.
                </h2>
                <p class="text-gray-500 text-lg">가장 맛있는 순간에 계산기를 두드려야 하는 당신의 마음을 이해합니다.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="p-8 rounded-2xl bg-softGray border border-gray-100 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center text-3xl mb-6 shadow-sm">👀</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">부정확한 눈대중</h3>
                    <p class="text-gray-600">"이 정도면 밥 반 공기인가?"<br>대충 입력한 식사량, 불안한 인슐린 용량.</p>
                </div>
                <div class="p-8 rounded-2xl bg-softGray border border-gray-100 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center text-3xl mb-6 shadow-sm">✍️</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">귀찮은 기록</h3>
                    <p class="text-gray-600">매끼니 저울을 꺼내고 앱을 켜서 숫자를 입력하는 번거로움.</p>
                </div>
                <div class="p-8 rounded-2xl bg-softGray border border-gray-100 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center text-3xl mb-6 shadow-sm">📉</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">예측 불가능한 혈당</h3>
                    <p class="text-gray-600">분명 신경 썼는데 튀어버리는 혈당.<br>원인을 몰라 답답했던 순간들.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="py-20 bg-softGray overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-start">
                <!-- 이미지 섹션 -->
                <div class="w-full relative">
                    <img id="feature-image" src="image/camera_app.jpeg" class="rounded-3xl shadow-2xl w-full aspect-square object-cover transition-opacity duration-500" alt="Features 이미지">
                </div>

                <!-- 토글 리스트 섹션 -->
                <div class="w-full">
                    <p class="text-sm text-gray-500 mb-4">GlucoUS 솔루션 알아보기</p>
                    <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-8">나만을 위한 혈당관리 도우미</h2>
                    
                    <div class="space-y-0 border-t border-gray-200">
                        <!-- 토글 항목 1 -->
                        <div class="feature-toggle-item border-b border-gray-200">
                            <button class="w-full py-5 flex items-center justify-between text-left hover:bg-gray-50 transition-colors group" onclick="toggleFeature(0)">
                                <span class="text-lg font-semibold text-gray-900">간편한 식사 정보 검색</span>
                                <svg class="w-5 h-5 text-gray-400 chevron-icon group-hover:text-gray-600" id="chevron-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="feature-content hidden overflow-hidden" id="content-0">
                                <div class="pb-5 pt-0">
                                    <p class="text-gray-600 leading-relaxed">복잡한 영양 성분표를 분석할 필요가 없습니다. 사진, 음성, 텍스트까지 당신이 원하는 방법으로 자유롭게 AI 기반 음식 검색을 통해, 검색 한 번으로 탄수화물 함량과 주요 영양 정보를 즉시 확인하세요."</p>
                                </div>
                            </div>
                        </div>

                        <!-- 토글 항목 2 -->
                        <div class="feature-toggle-item border-b border-gray-200">
                            <button class="w-full py-5 flex items-center justify-between text-left hover:bg-gray-50 transition-colors group" onclick="toggleFeature(1)">
                                <span class="text-lg font-semibold text-gray-900">과학적인 탄수화물 계산 방법</span>
                                <svg class="w-5 h-5 text-gray-400 chevron-icon group-hover:text-gray-600" id="chevron-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="feature-content hidden overflow-hidden" id="content-1">
                                <div class="pb-5 pt-0">
                                    <p class="text-gray-600 leading-relaxed">GlucoUS 만의 식사량 보정 기술이 적용되었습니다. 내 손을 기준으로 음식의 부피와 밀도를 분석해, 저울 없이도 어떤 상황에서도  정확한 탄수화물 양 계산을 도와드립니다. 더 이상 감에 의존하지 마세요.</p>
                                </div>
                            </div>
                        </div>

                        <!-- 토글 항목 3 -->
                        <div class="feature-toggle-item border-b border-gray-200">
                            <button class="w-full py-5 flex items-center justify-between text-left hover:bg-gray-50 transition-colors group" onclick="toggleFeature(2)">
                                <span class="text-lg font-semibold text-gray-900">상황에 따른 혈당 예측</span>
                                <svg class="w-5 h-5 text-gray-400 chevron-icon group-hover:text-gray-600" id="chevron-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="feature-content hidden overflow-hidden" id="content-2">
                                <div class="pb-5 pt-0">
                                    <p class="text-gray-600 leading-relaxed">먹기 전, 미리 결과를 확인하세요. 사용자의 개인화된 건강 데이터를 기반으로, 식사량에 따른 혈당 변화를 AI가 예측해 보여줍니다.</p>
                                </div>
                            </div>
                        </div>

                        <!-- 토글 항목 4 -->
                        <div class="feature-toggle-item border-b border-gray-200">
                            <button class="w-full py-5 flex items-center justify-between text-left hover:bg-gray-50 transition-colors group" onclick="toggleFeature(3)">
                                <span class="text-lg font-semibold text-gray-900">나를 위한 추천 식단</span>
                                <svg class="w-5 h-5 text-gray-400 chevron-icon group-hover:text-gray-600" id="chevron-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="feature-content hidden overflow-hidden" id="content-3">
                                <div class="pb-5 pt-0">
                                    <p class="text-gray-600 leading-relaxed">혈당 스파이크 걱정 없는 맛있는 식사를 제안합니다. 나의 식습관과 혈당 반응 데이터를 학습한 AI가, 입맛과 건강을 모두 만족시키는 최적의 식단을 추천합니다.</p>
                                </div>
                            </div>
                        </div>

                        <!-- 토글 항목 5 -->
                        <div class="feature-toggle-item border-b border-gray-200">
                            <button class="w-full py-5 flex items-center justify-between text-left hover:bg-gray-50 transition-colors group" onclick="toggleFeature(4)">
                                <span class="text-lg font-semibold text-gray-900">우리의 목표</span>
                                <svg class="w-5 h-5 text-gray-400 chevron-icon group-hover:text-gray-600" id="chevron-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="feature-content hidden overflow-hidden" id="content-4">
                                <div class="pb-5 pt-0">
                                    <p class="text-gray-600 leading-relaxed">우리의 소명은 단순한 기록 앱을 넘어, 당신의 자유로운 식사 파트너가 되는 것입니다. 막연한 추측과 불안 대신, 데이터가 주는 확신으로 당뇨 관리의 새로운 기준을 만듭니다.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <style>
        .feature-content {
            max-height: 0;
            opacity: 0;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
        }
        .feature-content.open {
            max-height: 500px;
            opacity: 1;
            transition: max-height 0.3s ease-in, opacity 0.3s ease-in;
        }
        .feature-content.hidden {
            display: none;
        }
        .chevron-icon {
            transition: transform 0.3s ease;
        }
        .chevron-icon.rotated {
            transform: rotate(180deg);
        }
    </style>

    <script>
        // 각 토글에 해당하는 이미지 매핑
        const featureImages = [
            'image/camera_app.jpeg',           // 0: 식사 정보 검색
            'image/hand_app.jpeg',             // 1: 밀도 기반 탄수화물량 추정
            'image/aipred_app.jpeg',        // 2: 개인 맞춤 혈당 예측
            'image/foodad_app.jpeg',             // 3: 나를 위한 추천 식단
            'image/ourgoal_app.jpeg'              // 4: 우리의 목표
        ];

        let currentImageIndex = 0;
        let imageRotationInterval = null;
        let isManualToggle = false; // 수동 토글이 열려있는지 여부

        const featureImage = document.getElementById('feature-image');

        // 이미지 자동 순환 함수
        function startImageRotation() {
            if (imageRotationInterval) {
                clearInterval(imageRotationInterval);
            }
            
            imageRotationInterval = setInterval(() => {
                if (!isManualToggle) {
                    currentImageIndex = (currentImageIndex + 1) % featureImages.length;
                    changeImage(featureImages[currentImageIndex]);
                }
            }, 3000); // 3초마다 변경
        }

        // 이미지 변경 함수 (페이드 효과)
        function changeImage(src) {
            if (featureImage) {
                featureImage.style.opacity = '0';
                setTimeout(() => {
                    featureImage.src = src;
                    featureImage.style.opacity = '1';
                }, 250);
            }
        }

        // 토글 함수 수정
        function toggleFeature(index) {
            const content = document.getElementById(`content-${index}`);
            const chevron = document.getElementById(`chevron-${index}`);
            
            if (content.classList.contains('hidden')) {
                // 열기
                isManualToggle = true;
                
                // 다른 토글들 닫기
                for (let i = 0; i < 5; i++) {
                    if (i !== index) {
                        const otherContent = document.getElementById(`content-${i}`);
                        const otherChevron = document.getElementById(`chevron-${i}`);
                        if (otherContent && !otherContent.classList.contains('hidden')) {
                            otherContent.classList.remove('open');
                            otherChevron.classList.remove('rotated');
                            setTimeout(() => {
                                otherContent.classList.add('hidden');
                            }, 300);
                        }
                    }
                }
                
                content.classList.remove('hidden');
                setTimeout(() => {
                    content.classList.add('open');
                }, 10);
                chevron.classList.add('rotated');
                
                // 해당 토글의 이미지로 변경
                currentImageIndex = index;
                changeImage(featureImages[index]);
            } else {
                // 닫기
                content.classList.remove('open');
                chevron.classList.remove('rotated');
                setTimeout(() => {
                    content.classList.add('hidden');
                }, 300);
                
                // 자동 순환 재시작
                isManualToggle = false;
                currentImageIndex = index; // 현재 인덱스부터 다시 시작
                startImageRotation();
            }
        }

        // 페이지 로드 시 자동 순환 시작
        window.addEventListener('DOMContentLoaded', function() {
            // 첫 이미지 설정
            if (featureImage) {
                featureImage.src = featureImages[0];
            }
            startImageRotation();
        });
    </script>

    <section id="pricing" class="py-24 bg-gray-900 text-white relative overflow-hidden">
        <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-primary/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-3xl lg:text-4xl font-bold mb-6 leading-tight">당신의 자유로운 식사를 위한<br><span class="text-primary">가장 확실한 투자</span></h2>
                    <p class="text-gray-400 text-lg mb-8">커피 한 잔 값으로 평생의 건강 습관을 만듭니다.</p>
                    <ul class="space-y-4 text-gray-300">
                        <li class="flex items-center gap-3"><span class="text-primary">✓</span> 자유로운 AI 기반 영양소 정보 검색</li>
                        <li class="flex items-center gap-3"><span class="text-primary">✓</span> 과학적인 식사량 추정 기술</li>
                        <li class="flex items-center gap-3"><span class="text-primary">✓</span> 무제한 식후 혈당 예측</li>
                        <li class="flex items-center gap-3"><span class="text-primary">✓</span> 나를 위한 추천 식단 제공</li>
                    </ul>
                </div>
                <div class="bg-white text-gray-900 rounded-3xl p-8 lg:p-10 shadow-2xl relative">
                    <div class="absolute -top-4 right-8 bg-black text-white px-4 py-1 rounded-full text-sm font-bold">Early Bird Offer</div>
                    <h3 class="text-xl font-bold text-gray-500 mb-2">GlucoUS Pro Plan</h3>
                    <div class="flex items-baseline gap-2 mb-6">
                        <span class="text-4xl lg:text-5xl font-extrabold tracking-tight">5,000원</span>
                        <span class="text-gray-400 text-lg line-through">9,900원</span>
                        <span class="text-sm text-gray-500">/월</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-8 bg-gray-100 p-4 rounded-xl">🔥 <strong>베타 테스터 모집 중</strong>입니다. 선정되신 베타 테스터 30인에게는 2만원 상당의 혈당 관리 키트와 Pro 플랜 90일 이용권을 제공해 드립니다. 많은 관심 부탁드립니다.</p>
                    <button class="w-full py-4 bg-primary text-white rounded-xl font-bold text-xl hover:bg-primaryDark transition-all shadow-lg hover:shadow-primary/30 mb-4">
                        30일 무료 체험 시작하기
                    </button>
                    <p class="text-center text-xs text-gray-400">출시 전 앱의 테스트와 수요 조사를 위해 예약금 5000원을 받고 있습니다. 3월 이후 계좌 이체를 통해 현금으로 100% 환불해드립니다.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-50 border-t border-gray-200 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8 mb-12">
                <div class="col-span-1 md:col-span-2">
                    <span class="text-2xl font-bold text-gray-900 block mb-4">GlucoUS</span>
                    <p class="text-gray-500 text-sm leading-relaxed max-w-xs">
                        데이터 기반의 정밀 영양 분석 미들웨어.<br>당뇨인의 삶에서 막연한 불안함을 걷어내고, 확신과 자유를 선물합니다.
                    </p>
                </div>
                <div>
                    <h4 class="font-bold text-gray-900 mb-4">Legal</h4>
                    <ul class="space-y-2 text-sm text-gray-500">
                        <li><a href="#" class="hover:text-primary">이용약관</a></li>
                        <li><a href="#" class="hover:text-primary">개인정보처리방침</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-gray-900 mb-4">Contact</h4>
                    <ul class="space-y-2 text-sm text-gray-500">
                        <li>support@glucous.kr</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-200 pt-8 flex justify-between items-center">
                <p class="text-xs text-gray-400">© 2025 GlucoUS Inc. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Screen 슬라이드 자동 전환 (Promise 기반 시퀀스)
        (function() {
            const screens = ['ScreenA', 'ScreenB', 'ScreenC', 'SCreenD', 'ScreenE', 'ScreenF'];
            const totalScreens = screens.length;
            const pendingPromises = {}; // 각 스크린의 Promise 저장
            
            // 스크린 표시 및 애니메이션 시작 (Promise 반환)
            function showScreen(index) {
                return new Promise((resolve) => {
                    // 모든 iframe 숨기기
                    for (let i = 0; i < totalScreens; i++) {
                        const iframe = document.getElementById(`screen-iframe-${i}`);
                        const indicator = document.querySelector(`.indicator[data-index="${i}"]`);
                        
                        if (iframe) {
                            iframe.style.opacity = i === index ? '1' : '0';
                            
                            // 스크린이 보일 때 애니메이션 시작 메시지 전송
                            if (i === index) {
                                // 약간의 지연을 두어 iframe이 완전히 보인 후 애니메이션 시작
                                setTimeout(() => {
                                    iframe.contentWindow.postMessage({
                                        type: 'start-animation',
                                        screenIndex: i
                                    }, '*');
                                }, 50);
                                
                                // 이 스크린의 완료 Promise 저장
                                pendingPromises[index] = resolve;
                            }
                        }
                        
                        if (indicator) {
                            if (i === index) {
                                indicator.classList.remove('bg-white/40');
                                indicator.classList.add('bg-white');
                            } else {
                                indicator.classList.remove('bg-white');
                                indicator.classList.add('bg-white/40');
                            }
                        }
                    }
                });
            }
            
            // 애니메이션 완료 메시지 리스너
            window.addEventListener('message', function(event) {
                if (event.data && event.data.type === 'animation-complete') {
                    const screenIndex = event.data.screenIndex;
                    const resolve = pendingPromises[screenIndex];
                    
                    if (resolve) {
                        resolve();
                        delete pendingPromises[screenIndex];
                    }
                }
            });
            
            // 스크린 시퀀스 실행 (무한 반복)
            async function runScreenSequence() {
                while (true) {
                    for (let i = 0; i < totalScreens; i++) {
                        await showScreen(i);
                    }
                }
            }
            
            // 초기화 및 시퀀스 시작
            runScreenSequence();
        })();
    </script>
</body>
</html>



